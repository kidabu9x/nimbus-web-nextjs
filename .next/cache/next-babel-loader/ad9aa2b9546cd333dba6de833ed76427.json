{"ast":null,"code":"/* ServerAPI talks REST with the backend server.\n *\n * All server communication takes place via this singleton module!\n *\n * Calls return promises.\n *\n * (Wish I could use async/await but browser support is still lacking.)\n *\n * My Python REST API server implements this simple movie API:\n * https://github.com/tomimick/restpie3\n */\nimport axios from \"axios\";\nconst PUBLIC_URL = \"http://api-uat.nimbus.com.vn/v1\";\n\nclass ServerAPI {\n  constructor() {\n    this.client = axios.create({\n      baseURL: PUBLIC_URL,\n      timeout: 20000,\n      headers: {\n        \"X-Custom-Header\": \"foobar\"\n      }\n    });\n  }\n\n  getCategories() {\n    let url = `${PUBLIC_URL}/categories`;\n    return this.client.get(url);\n  }\n\n  getFeatures() {\n    let url = `${PUBLIC_URL}/features`;\n    return this.client.get(url);\n  }\n\n  getSlug(slug) {\n    let url = `${PUBLIC_URL}/${slug}`;\n    return this.client.get(url);\n  }\n\n  searchByQuery(query) {\n    let url = `${PUBLIC_URL}/search`;\n    return this.client.get(url, {\n      params: {\n        query\n      }\n    });\n  }\n\n} // export singleton API\n\n\nconst api = new ServerAPI();\nexport default api;","map":{"version":3,"sources":["/Users/phamtien/Work/Nimbus/blog/service/serverapi_ajax.js"],"names":["axios","PUBLIC_URL","ServerAPI","constructor","client","create","baseURL","timeout","headers","getCategories","url","get","getFeatures","getSlug","slug","searchByQuery","query","params","api"],"mappings":"AAAA;;;;;;;;;;;AAYA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,UAAU,GAAG,iCAAnB;;AAEA,MAAMC,SAAN,CAAgB;AACdC,EAAAA,WAAW,GAAG;AACZ,SAAKC,MAAL,GAAcJ,KAAK,CAACK,MAAN,CAAa;AACzBC,MAAAA,OAAO,EAAEL,UADgB;AAEzBM,MAAAA,OAAO,EAAE,KAFgB;AAGzBC,MAAAA,OAAO,EAAE;AAAE,2BAAmB;AAArB;AAHgB,KAAb,CAAd;AAKD;;AAEDC,EAAAA,aAAa,GAAG;AACd,QAAIC,GAAG,GAAI,GAAET,UAAW,aAAxB;AACA,WAAO,KAAKG,MAAL,CAAYO,GAAZ,CAAgBD,GAAhB,CAAP;AACD;;AAEDE,EAAAA,WAAW,GAAG;AACZ,QAAIF,GAAG,GAAI,GAAET,UAAW,WAAxB;AACA,WAAO,KAAKG,MAAL,CAAYO,GAAZ,CAAgBD,GAAhB,CAAP;AACD;;AAEDG,EAAAA,OAAO,CAACC,IAAD,EAAO;AACZ,QAAIJ,GAAG,GAAI,GAAET,UAAW,IAAGa,IAAK,EAAhC;AACA,WAAO,KAAKV,MAAL,CAAYO,GAAZ,CAAgBD,GAAhB,CAAP;AACD;;AAEDK,EAAAA,aAAa,CAACC,KAAD,EAAQ;AACnB,QAAIN,GAAG,GAAI,GAAET,UAAW,SAAxB;AACA,WAAO,KAAKG,MAAL,CAAYO,GAAZ,CAAgBD,GAAhB,EAAqB;AAC1BO,MAAAA,MAAM,EAAE;AACND,QAAAA;AADM;AADkB,KAArB,CAAP;AAKD;;AA/Ba,C,CAkChB;;;AACA,MAAME,GAAG,GAAG,IAAIhB,SAAJ,EAAZ;AACA,eAAegB,GAAf","sourcesContent":["/* ServerAPI talks REST with the backend server.\n *\n * All server communication takes place via this singleton module!\n *\n * Calls return promises.\n *\n * (Wish I could use async/await but browser support is still lacking.)\n *\n * My Python REST API server implements this simple movie API:\n * https://github.com/tomimick/restpie3\n */\n\nimport axios from \"axios\";\n\nconst PUBLIC_URL = \"http://api-uat.nimbus.com.vn/v1\";\n\nclass ServerAPI {\n  constructor() {\n    this.client = axios.create({\n      baseURL: PUBLIC_URL,\n      timeout: 20000,\n      headers: { \"X-Custom-Header\": \"foobar\" },\n    });\n  }\n\n  getCategories() {\n    let url = `${PUBLIC_URL}/categories`;\n    return this.client.get(url);\n  }\n\n  getFeatures() {\n    let url = `${PUBLIC_URL}/features`;\n    return this.client.get(url);\n  }\n\n  getSlug(slug) {\n    let url = `${PUBLIC_URL}/${slug}`;\n    return this.client.get(url);\n  }\n\n  searchByQuery(query) {\n    let url = `${PUBLIC_URL}/search`;\n    return this.client.get(url, {\n      params: {\n        query,\n      },\n    });\n  }\n}\n\n// export singleton API\nconst api = new ServerAPI();\nexport default api;\n"]},"metadata":{},"sourceType":"module"}